{% from '@SyliusAdmin/shared/helper/icon.html.twig' import icon %}

{% set path = options.link.url|default(path(options.link.route, options.link.parameters)) %}
{% set message = action.label|default('sylius.ui.delete') %}

<form action="{{ path }}" method="post">
    <input type="hidden" name="_method" value="DELETE"/>
    <button
        name="delete"
        class="btn btn-icon"
        type="submit"
        data-confirm-btn-submit
        {{ sylius_test_html_attribute('delete-button') }}
        data-bs-toggle="tooltip"
        data-bs-title="{{ message|trans }}"
        {% if options.state == 'processing' %} disabled {% endif %}
    >
        {{ icon({ icon: action.icon ?? 'trash-x', class: 'icon icon-tabler text-danger' }) }}
    </button>
    <input type="hidden" name="_csrf_token" value="{{ csrf_token(options.link.parameters.code) }}" />
</form>
