{% extends 'SyliusUiBundle:Layout:sidebar.html.twig' %}

{% set event_prefix = app.request.attributes.get('_route')|replace('_', '.') %}

{% block title %}Sylius | {% endblock %}

{% block stylesheets %}
    {% include 'SyliusUiBundle::_stylesheets.html.twig' with {'path': 'assets/admin/css/style.css'} %}
{% endblock %}

{% block topbar %}
    <a class="icon item" id="sidebar-toggle" title="{{ 'sylius.ui.toggle_sidebar'|trans }}">
        <i class="sidebar icon"></i>
    </a>

    {{ sonata_block_render_event(event_prefix ~ '.topbar_left') }}

    {{ render(url('sylius_admin_partial_channel_index', {'template': '@SyliusAdmin/_channelLinks.html.twig'})) }}
    {% include '@SyliusAdmin/_search.html.twig' %}

    {{ sonata_block_render_event(event_prefix ~ '.topbar_middle') }}

    {% include '@SyliusAdmin/_security.html.twig' %}

    {{ sonata_block_render_event(event_prefix ~ '.topbar_right') }}
{% endblock %}

{% block sidebar %}
    {{ sonata_block_render_event(event_prefix ~ '.sidebar_top') }}

    <a class="item" href="{{ path('sylius_admin_dashboard') }}"><b>Sylius</b></a>
    {{ knp_menu_render('sylius.admin.main', {'template': 'SyliusUiBundle:Menu:sidebar.html.twig', 'currentClass': 'active'}) }}

    {{ sonata_block_render_event(event_prefix ~ '.sidebar_down') }}
{% endblock %}

{% block footer %}
    {{ 'sylius.ui.powered_by'|trans }} <a href="http://sylius.org" target="_blank">Sylius</a>.
{% endblock %}

{% block javascripts %}
    {% include 'SyliusUiBundle::_javascripts.html.twig' with {'path': 'assets/admin/js/app.js'} %}
{% endblock %}
