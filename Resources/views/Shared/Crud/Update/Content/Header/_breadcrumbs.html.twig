{% import '@SyliusAdmin/Shared/Helper/breadcrumbs.html.twig' as _breadcrumbs %}

{% set hookable_context = get_hookable_context() %}

{% set configuration = hookable_context.configuration %}
{% set resource = hookable_context.resource %}


{% if hookable_context.metadata is defined %}
    {% set metadata = hookable_context.metadata %}
    {% set resourceName = hookable_configuration.resource_name|default(metadata.applicationName~'.ui.'~metadata.pluralName) %}
{% else %}
    {% set resourceName = hookable_configuration.resource_name %}
{% endif %}

{% set index_url = path(
    configuration.vars.index.route.name|default(configuration.getRouteName('index')),
    configuration.vars.index.route.parameters|default(configuration.vars.route.parameters|default({}))
)
%}

{{ _breadcrumbs.default([
    { name: 'Dashboard', url: path('sylius_admin_dashboard'), active: false },
    { name: resourceName, url: index_url, active: false },
    { name: resource.name|default(resource.code|default(resource.id)), active: true },
    { name: 'sylius.ui.edit'|trans, active: false }
]) }}
