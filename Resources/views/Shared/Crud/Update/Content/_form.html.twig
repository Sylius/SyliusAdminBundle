{% form_theme form 'bootstrap_5_layout.html.twig' %}

{% import '@SyliusAdmin/Shared/Helper/button.html.twig' as _button %}

{% set event_name = event_prefix ~ '.form' %}
{% set resource_event_name = resource_event_prefix ~ '.form' %}
{% set index_url = path(
    configuration.vars.index.route.name|default(configuration.getRouteName('index')),
    configuration.vars.index.route.parameters|default(configuration.vars.route.parameters|default({}))
)
%}

<div class="page-body">
    <div class="container-xl">
        {% if _context.render_rest %}
            <div class="card">
                <div class="card-body">
        {% endif %}
                    {{ form_start(form, {'action': path(configuration.vars.route.name|default(configuration.getRouteName('create')), configuration.vars.route.parameters|default({})), 'attr': {'class': 'ui loadable form', 'novalidate': 'novalidate', 'id': form.vars.id}}) }}
                        {{ sylius_template_event([resource_event_name, event_name], _context|merge({ event_prefix: event_name, resource_event_prefix: resource_event_name, form: form })) }}
                    {{ form_end(form, {'render_rest': _context.render_rest}) }}
        {% if _context.render_rest %}
                </div>
                <div class="card-footer">
                    <div class="row align-items-center">
                        <div class="col"></div>
                        <div class="col-auto">
                            {{ _button.cancel({ text: 'sylius.ui.cancel'|trans, url: index_url, class: 'btn btn-ghost-secondary' }) }}
                            {{ _button.primary({ text: 'sylius.ui.update'|trans, type: 'submit', form: form.vars.id }) }}
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
</div>
